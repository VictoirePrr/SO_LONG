# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: vicperri <vicperri@student.42lyon.fr>      +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2024/11/12 12:55:24 by vicperri          #+#    #+#              #
#    Updated: 2024/12/18 15:12:42 by vicperri         ###   ########lyon.fr    #
#                                                                              #
# **************************************************************************** #

NAME    =  so_long

CC := gcc
CCFLAGS := -g3
SRC_DIR := src/
INCLUDES:= include/
SRC := $(addprefix $(SRC_DIR), so_long.c fill_map.c check_items.c check_map.c handling_error.c utils.c \
init_game.c start_game.c flood_fill.c)

OBJ_DIR := .obj/
OBJ := $(SRC:$(SRC_DIR)%.c=$(OBJ_DIR)%.o)

MLX_DIR := minilibx-linux/
MLX := $(MLX_DIR)libmlx_Linux.a
MLX_FLAG := -L $(MLX_DIR) -lmlx_Linux -L/usr/lib -I $(MLX_DIR) -lX11 -lm -lz -lXext $(MLX)

LIBFT_DIR := libft/
LIBFT := $(LIBFT_DIR)libft.a 
LIBFT_FLAG := -L $(LIBFT_DIR) $(LIBFT)

HEADERS:= -I $(INCLUDES) -I $(MLX_DIR) -I $(LIBFT_DIR)

# Colors

DEF_COLOR = \033[0;39m
GRAY = \033[0;90m
RED = \033[0;91m
GREEN = \033[0;92m
YELLOW = \033[0;93m
BLUE = \033[0;94m
MAGENTA = \033[0;95m
CYAN = \033[0;96m
WHITE = \033[0;97m
PURPLE=\033[35m

$(NAME): $(OBJ)
	$(MAKE) -C $(MLX_DIR)
	$(MAKE) -C $(LIBFT_DIR)
	$(CC) $(CCFLAGS) $(OBJ)  $(MLX_FLAG) $(LIBFT_FLAG) -o $(NAME)
	$(CC) $(CCFLAGS) $(OBJ)  $(MLX_FLAG) $(LIBFT_FLAG) -o $(NAME)
	 @echo "$(PURPLE) âœ¨ SO_LONG COMPILED âœ¨$(DEF_COLOR)"
	$(MAKE) kitty
	
all: $(NAME)

$(OBJ_DIR)%.o: $(SRC_DIR)%.c
	@mkdir -p $(OBJ_DIR)
	@echo "$(BLUE)...Compiling...: $< $(DEF_COLOR)"
	$(CC) $(CCFLAGS) $(HEADERS) -c $< -o $@

kitty:
	@echo									â €â €â €â €â €â €â¢€â£€â¡€â €â €â €â €â €â €â €â €â €â €â €â €â£€â£¤â£¤â£€â €â €â €â €â €â €â €â €â €â €â €â €â €â €
	@echo									â €â €â €â €â €â¡€â£°â¡¿â ›â ›â ¿â¢¶â£¦â£€â €â¢€â£€â£€â£€â£€â£ â¡¾â ‹â €â €â ¹â£·â£„â£¤â£¶â¡¶â ¿â ¿â£·â¡„â €â €â €â €â €
	@echo									â €â €â €â €â €â¢°â£¿â â €â €â €â €â ˆâ ™â ›â ›â ‹â ‰â ‰â¢¹â¡Ÿâ â €â €â£€â£€â ˜â£¿â ‰â €â €â €â €â ˜â£¿â €â €â €â €â €
	@echo									â €â €â €â €â €â¢¸â£¿â €â €â €â €â €â €â €â €â €â €â €â €â£¿â â €â €â£¾â¡‹â£½â ¿â ›â ¿â¢¶â£¤â£¤â£¤â£¤â£¿â €â €â €â €â €
	@echo									â €â €â €â €â €â¢¸â£¿â¡´â €â €â €â €â €â €â €â €â €â €â €â¢»â£„â¡€â €â¢ˆâ£»â¡â €â €â €â €â£¿â£€â €â ˆâ ™â£·â €â €â €â €
	@echo									â €â €â €â €â €â£°â¡¿â â €â €â €â €â €â €â €â €â €â €â €â €â ™â ›â ›â ›â ™â¢·â£„â£€â£€â£¼â£â£¿â €â €â¢€â£¿â €â €â €â €
	@echo									â €â €â €â €â¢¸â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ‰â ™â£¿â¡‰â ‰â â¢€â£ â£¿â¡‡â €â €â €â €
	@echo									â €â €â €â €â£¿â ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ›â —â ¾â Ÿâ ‹â¢¹â£·â €â €â €â €
	@echo									â¢€â£¤â£¤â£¤â£¿â£¤â£„â €â €â €â ´â šâ ²â „â €â €â €â €â €â €â €â €â €â €â €â €â£ â£¶â¡†â €â €â €â €â¢€â£ˆâ£¿â£€â£€â¡€â €
	@echo									â €â €â €â ˆâ£¿â£ â£¾â Ÿâ ›â¢·â¡„â €â €â €â €â €â €â €â¡¤â ¶â¢¦â¡€â €â €â €â €â ¹â ¯â ƒâ €â €â €â ˆâ ‰â¢©â¡¿â ‰â ‰â ‰â 
	@echo									â €â €â£¤â¡¶â ¿â£¿â£‡â €â €â ¸â£·â €â €â €â €â €â €â €â “â ¶â žâ ƒâ €â €â €â €â €â €â €â €â €â €â €â¢¤â£¼â£¯â£€â£€â €â €
	@echo									â €â¢°â£¯â €â €â ˆâ »â €â €â €â£¿â£¶â£¤â£„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£°â¡¿â â ‰â ‰â â €
	@echo									â €â €â ™â£·â£„â €â €â €â €â €â¢€â£€â£€â ™â¢¿â£†â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ˆâ£¿â¡¿â¢·â£„â¡€â €â €â €
	@echo									â €â €â €â ˆâ ™â£·â €â €â €â£´â Ÿâ ‰â ‰â €â €â£¿â£€â£€â €â €â €â €â €â €â €â €â¢€â£€â£ â£¤â£¾â Ÿâ ‰â €â €â ˆâ ‰â €â €â €
	@echo									â €â €â €â €â °â£¿â €â €â €â ™â¢§â£¤â¡¶â Ÿâ¢€â£¿â ›â¢Ÿâ¡Ÿâ¡¯â ½â¢¶â¡¶â ¾â¢¿â£»â£â£¹â¡â£â¡¿â €â €â €â €â €â €â €â €â €
	@echo									â €â €â €â €â €â ¹â£·â£„â €â €â €â €â €â£ â£¾â â €â €â ™â ›â ›â ‹â €â €â¢€â£½â Ÿâ ›â –â ›â €â €â €â €â €â €â €â €â €â €
	@echo									â €â €â €â €â €â €â €â ™â »â ·â ¶â ¿â Ÿâ ‹â ¹â£·â£¤â£€â¡€â „â£¡â£€â£ â£´â¡¿â â €â €â €â €â €â €â €â €â €â €â €â €â €â €
	@echo									â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â£â£‰â£»â£â£‰â£¡â žâ â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
	@echo									â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ â €â €


clean:
	rm -rf $(OBJ_DIR)

fclean: clean
	$(MAKE) fclean -C $(LIBFT_DIR)
	$(MAKE) clean -C $(MLX_DIR)
	@echo "$(YELLOW) ðŸ§½ SO_LONG SUCCESSFULLY CLEANED ðŸ§½ $(DEF_COLOR)"
	$(MAKE) kitty
	rm -f $(NAME)

re: fclean all

.PHONY: all clean fclean re kitty
